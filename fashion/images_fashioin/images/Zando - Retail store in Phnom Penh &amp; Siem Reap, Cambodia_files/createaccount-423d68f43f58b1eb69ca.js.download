(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9812],{80905:function(e,r,s){"use strict";s.r(r),s.d(r,{__N_SSP:function(){return w}});var o=s(85893),t=s(26265),n=s(67294),a=s(38579),i=s(52785),_=s(40619),c=s(48249),l=s(71230),d=s(15746),m=s(57660),p=s(26992),h=s(59301),f=s(74865),u=s.n(f),g=s(88732),x=s(11163),y=s(72315);function b(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),s.push.apply(s,o)}return s}function v(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?b(Object(s),!0).forEach((function(r){(0,t.Z)(e,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b(Object(s)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))}))}return e}var q=c.Z.Option,w=!0;r.default=function(e){var r=(0,x.useRouter)(),t=(0,n.useState)({first_name:"",last_name:"",phone:"",email:"",birth_date:"",province:"",req_first_name:!1,req_last_name:!1,req_phone:!1,req_phone_invalid:!1,req_province:!1,req_email_invalid:!1,req_invalidate:!1,message_from_api:""}),f=t[0],b=t[1],w=(0,n.useState)({visible:!1,verify_code:"",password:"",comfirm_password:"",message_ofter_reset:"",is_verify_success:!1,is_success_create_account:!1,req_code:!1,req_code_not_match:!1,req_password:!1,req_password_4_20:!1,req_comfirm_password:!1,req_password_not_match:!1}),j=w[0],C=w[1],Z=f.first_name,N=f.last_name,S=f.email,O=f.province,P=f.phone,k=f.birth_date,T={req_first_name:!1,req_last_name:!1,req_phone:!1,req_phone_invalid:!1,req_province:!1,req_email_invalid:!1,req_invalidate:!1,message_from_api:""},E={req_code:!1,req_code_not_match:!1,req_password:!1,req_password_4_20:!1,req_comfirm_password:!1,req_password_not_match:!1},z=(0,n.useState)(!1),D=z[0],R=z[1],A=function(e){return s.e(1767).then(s.t.bind(s,51767,23)).then((function(e){return e.default})).then((function(r){r.init("289664102596785"),void 0!==e&&void 0!==e.event&&r.track(e.event,{currency:"USD",content_name:"Complete registration",status:!0})})),null};return(0,o.jsxs)(i.Z,v(v({},e),{},{isFooter:!1,isModal:!1,children:[(0,o.jsxs)(g.Z,{visible:j.visible,onClose:function(){C(v(v(v({},j),E),{},{visible:!1,is_verify_success:!1}))},children:[(0,o.jsx)("div",{style:{height:20}}),j.is_verify_success?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{type:"password",label:(0,h.h1)("register_screen","entry_password","Password"),onChange:function(e){C(v(v({},j),{},{password:e,req_password:!1,req_password_4_20:!1,req_comfirm_password:!1,req_password_not_match:!1}))}}),(0,o.jsx)(m.Z,{type:"password",label:(0,h.h1)("register_screen","entry_confirm_password","Comfirm password"),onChange:function(e){C(v(v({},j),{},{comfirm_password:e,req_password:!1,req_password_4_20:!1,req_comfirm_password:!1,req_password_not_match:!1}))}}),(0,o.jsxs)("div",{style:{height:30,marginTop:30},children:[j.req_password&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("login_screen","error_required_password","Password required!")}),j.req_password_4_20&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("register_screen","error_password","Password must be between 4 and 20 characters!")}),j.req_comfirm_password&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("register_screen","error_required_confirm_password","Confirm password required!")}),j.req_password_not_match&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("register_screen","error_password_mismatch","Password not match!")}),!(0,h.xb)(j.message_ofter_reset)&&(0,o.jsx)("span",{className:"secondary_color",children:j.message_ofter_reset})]}),(0,o.jsx)(p.Z,{btnTitle:(0,h.h1)("forgot_screen","button_submit","Submit"),onClick:function(){if((0,h.xb)(j.password))C(v(v({},j),{},{req_password:!0}));else if(j.password.length<4||j.password.length>20)C(v(v({},j),{},{req_password_4_20:!0}));else if((0,h.xb)(j.comfirm_password))C(v(v({},j),{},{req_comfirm_password:!0}));else if(j.password==j.comfirm_password){var e=window.atob(localStorage.getItem("X3754x3"))/78963,s=O.split("."),o=v({token_rgi:h.De.token_rgi,username:P,first_name:Z,last_name:N,email:S,zone_id:s[0],city:s[1],birthday:k,random_code:e,password:j.password,confirm_password:j.comfirm_password},r.query&&v({},r.query));u().start(),R(!0),(0,h.XQ)("ApiRegister/registerOnApp",o).then((function(e){u().done(),e.error?(e.error.error_exist_customer?C(v(v({},j),{},{message_ofter_reset:res.error.error_exist_customer})):e.error.error_random_code?C(v(v({},j),{},{message_ofter_reset:res.error.error_random_code})):e.error.error_update_pos_id?C(v(v({},j),{},{message_ofter_reset:res.error.error_update_pos_id})):e.error.error_create_customer_zando?C(v(v({},j),{},{message_ofter_reset:res.error.error_create_customer_zando})):e.error.error_customer_zando?C(v(v({},j),{},{message_ofter_reset:res.error.error_customer_zando})):e.error.error_create_user_ten11?C(v(v({},j),{},{message_ofter_reset:res.error.error_create_user_ten11})):e.error.error_server?C(v(v({},j),{},{message_ofter_reset:res.error.error_server})):e.error.error_login?C(v(v({},j),{},{message_ofter_reset:res.error.error_login})):e.error.error_exist_customer&&C(v(v({},j),{},{message_ofter_reset:res.error.error_exist_customer})),R(!1)):(localStorage.removeItem("X3754x3"),r.push("/login"),y.Z.event("sign_up",{method:"Phone"}),A({event:"CompleteRegistration"}))}))}else C(v(v({},j),{},{req_password_not_match:!0}))},onDisable:D})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{type:"text",label:(0,h.h1)("forgot_screen","entry_confirm_code","Confirmation code"),onChange:function(e){C(v(v(v({},j),E),{},{verify_code:e}))}}),(0,o.jsxs)("div",{style:{height:30,marginTop:30},children:[j.req_code&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("forgot_screen","error_code_from_message","Enter code from the message.")}),j.req_code_not_match&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("forgot_screen","error_wrong_code","Wrong code. Try again.")})]}),(0,o.jsx)(p.Z,{btnTitle:(0,h.h1)("forgot_screen","button_verify","Verify"),onClick:function(){var e=window.atob(localStorage.getItem("X3754x3"))/78963;(0,h.xb)(j.verify_code)?C(v(v({},j),{},{req_code:!0})):e!=j.verify_code?C(v(v({},j),{},{req_code_not_match:!0})):e==j.verify_code&&(C(v(v({},j),{},{is_verify_success:!0,visible:!1})),setTimeout((function(){C((function(e){return v(v({},e),{},{visible:!0})}))}),500))},onDisable:D})]})]}),(0,o.jsxs)(_.Z,{children:[(0,o.jsx)("h2",{style:{fontSize:34,fontWeight:"bold",textAlign:"center",marginTop:10,textTransform:"uppercase"},children:(0,h.h1)("register_screen","text_title","Register")}),(0,o.jsxs)("div",{className:a.contain,children:[(0,o.jsxs)(l.Z,{gutter:[10,0],children:[(0,o.jsx)(d.Z,{xs:{span:12},md:{span:6,offset:6},lg:{span:6,offset:6},children:(0,o.jsx)(m.Z,{type:"text",label:(0,h.h1)("register_screen","entry_first_name","First name *"),onChange:function(e){b(v(v(v({},f),T),{},{first_name:e}))}})}),(0,o.jsx)(d.Z,{xs:{span:12},md:{span:6},lg:{span:6},children:(0,o.jsx)(m.Z,{type:"text",label:(0,h.h1)("register_screen","entry_last_name","Last name *"),onChange:function(e){b(v(v(v({},f),T),{},{last_name:e}))}})})]}),(0,o.jsx)(d.Z,{xs:{span:24},md:{span:12,offset:6},lg:{span:12,offset:6},children:(0,o.jsxs)(l.Z,{children:[(0,o.jsx)(d.Z,{flex:"100px",children:(0,o.jsx)("div",{className:a.phoneKhmer,children:(0,o.jsx)("span",{children:"+ 855 "})})}),(0,o.jsx)(d.Z,{flex:"auto",children:(0,o.jsx)(m.Z,{type:"phone",label:(0,h.h1)("register_screen","entry_telephone","Mobile number *"),onChange:function(e){b(v(v(v({},f),T),{},{phone:e}))}})})]})}),(0,o.jsx)(d.Z,{xs:24,md:{span:12,offset:6},lg:{span:12,offset:6},children:(0,o.jsx)(m.Z,{type:"email",label:(0,h.h1)("register_screen","entry_email","Email"),onChange:function(e){b(v(v(v({},f),T),{},{email:e}))}})}),(0,o.jsxs)(l.Z,{gutter:[10,0],children:[(0,o.jsxs)(d.Z,{xs:{span:12},md:{span:4,offset:6},lg:{span:4,offset:6},children:[(0,o.jsx)("div",{style:{height:40,display:"flex",alignItems:"flex-end"},children:(0,o.jsx)("span",{style:{opacity:.6,fontSize:14},children:(0,h.h1)("form_address_screen","text_available_country","Available country")})}),(0,o.jsx)("div",{className:a.containSelect,style:{paddingTop:0,borderRadius:5},children:(0,o.jsx)(c.Z,{style:{width:"100%",borderRadius:5},placeholder:(0,h.h1)("register_screen","entry_country","Country *"),defaultValue:"Cambodia",children:(0,o.jsx)(q,{value:"1",className:a.cityStyle,children:"Cambodia"})})})]}),(0,o.jsxs)(d.Z,{xs:{span:12},md:{span:8},lg:{span:8},children:[(0,o.jsx)("div",{style:{height:40}}),(0,o.jsx)("div",{className:a.containSelect,children:(0,o.jsx)(c.Z,{style:{width:"100%",borderRadius:5},placeholder:(0,h.h1)("register_screen","entry_city","City / province *"),onChange:function(e){b(v(v(v({},f),T),{},{province:e}))},children:e.zones&&e.zones.map((function(e,r){return(0,o.jsx)(q,{value:e.zone_id+"."+e.name,className:a.cityStyle,children:e.name},r)}))})})]})]}),(0,o.jsxs)(d.Z,{xs:24,md:{span:12,offset:6},lg:{span:12,offset:6},style:{marginTop:50,marginBottom:100},children:[(0,o.jsxs)("div",{style:{height:40},children:[f.req_first_name&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("register_screen","error_required_fname","First name required!")}),f.req_last_name&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("register_screen","error_required_lname","Last name required!")}),f.req_phone&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("register_screen","error_required_telephone","Mobile number required!")}),f.req_phone_invalid&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("register_screen","error_telephone","Mobile number invalid!")}),f.req_email_invalid&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("register_screen","error_email","Email invalid!")}),f.req_invalidate&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("register_screen","error_birthdate","Birthdate invalid!")}),f.req_province&&(0,o.jsx)("span",{className:"secondary_color",children:(0,h.h1)("register_screen","error_required_city","Province required!")}),""!=f.message_from_api&&(0,o.jsx)("span",{className:"secondary_color",children:f.message_from_api})]}),(0,o.jsx)(p.Z,{btnTitle:(0,h.h1)("register_screen","button_create_account","CREATE ACCOUNT"),onClick:function(){if(b(v(v({},f),{},{req_field:T,message_from_api:""})),(0,h.xb)(Z))b(v(v({},f),{},{req_first_name:!0}));else if((0,h.xb)(N))b(v(v({},f),{},{req_last_name:!0}));else if((0,h.xb)(P))b(v(v({},f),{},{req_phone:!0}));else if((0,h.xb)(P)||(0,h.uy)(P))if((0,h.xb)(S)||(0,h.Jh)(S)){if((0,h.xb)(k)){if((0,h.xb)(O))return void b(v(v({},f),{},{req_province:!0}))}else{var e=k.split("-");if(3==e.length){if(3!=e.length||""==e[0]||4!=e[0].length)return void b(v(v({},f),{},{req_invalidate:!0}))}else if((0,h.xb)(O))return void b(v(v({},f),{},{req_province:!0}))}var r=O.split("."),s="";s=(s=k.split("-"))&&3==s.length?s[2]+"/"+s[1]+"/"+s[0]:k;for(var o=Math.floor(1e4*Math.random()).toString();o.length<4;)o+="0";o=window.btoa(78963*o);var t={token_rgi:h.De.token_rgi,username:P,first_name:Z,last_name:N,email:S,zone_id:r[0],city:r[1],birthday:s,random_code:o};localStorage.setItem("X3754x3",o),u().start(),R(!0),(0,h.XQ)("ApiRegister/checkExistCustomer",t).then((function(e){u().done(),e.error?e.message?b(v(v({},f),{},{message_from_api:e.message})):e.error&&e.error.error_exist_customer?b(v(v({},f),{},{message_from_api:e.error.error_exist_customer})):e.error&&e.error.error_email&&b(v(v({},f),{},{message_from_api:e.error.error_email})):(C(v(v({},j),{},{visible:!0})),b(v(v({},f),{},{message_from_api:e.message}))),R(!1)}))}else b(v(v({},f),{},{req_email_invalid:!0}));else b(v(v({},f),{},{req_phone_invalid:!0}))},onDisable:D}),(0,o.jsx)("div",{style:{height:40}})]})]})]})]}))}},85957:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/createaccount",function(){return s(80905)}])},38579:function(e){e.exports={contain:"creataccount_contain__3JMP6",containSelect:"creataccount_containSelect___1MLK",phoneKhmer:"creataccount_phoneKhmer__1DbeB",loginContainer:"creataccount_loginContainer__3R1VX",loginContent:"creataccount_loginContent__3mTVF",register_form_button:"creataccount_register_form_button__373Wq",register_form:"creataccount_register_form__98fy3",inputs:"creataccount_inputs__2zJ_c",first_last:"creataccount_first_last__2dphH",birthdays:"creataccount_birthdays__3GAAj",birthday_form:"creataccount_birthday_form__2FQsW","ant-picker-input":"creataccount_ant-picker-input__2q5QL",regist_description:"creataccount_regist_description__2qLWP",cityStyle:"creataccount_cityStyle__1Y9hv"}}},function(e){e.O(0,[9774,8151,4738,9317,3365,594,1698,4321,4019,6482,9493,2888,179],(function(){return r=85957,e(e.s=r);var r}));var r=e.O();_N_E=r}]);